<script>

	class RevealEngine extends GenericEngine {

        constructor(element){
            super(element);
            this.iframe = this.element.$.iframePrez;            
            this.initialize = false;
        }
		
        next(){
            if (!this.initialize){
                console.log(this.iframe);
                console.log(this.iframe.contentWindow);
                this.iframe.contentWindow.postMessage(JSON.stringify({
                    type: 'init',
                    data: {
                        controls: true,
                        transition : 'default',
                        transitionSpeed : 'fast',
                        history : false,
                        slideNumber: false,
                        keyboard: false,
                        touch: false,
                        embedded : true
                    }}), '*');
                this.initialize = true;
            }
            this.iframe.contentWindow.postMessage(JSON.stringify({type: 'instruction', data: 'next'}), '*');                            
        }

		
	};

</script>